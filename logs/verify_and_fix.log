[2024-12-21 11:56:25] Starting verification and fixes...
[2024-12-21 11:56:25] Initializing file cache...
[2024-12-21 11:56:25] Progress: [14%] Stage 1/7: env
[2024-12-21 11:56:25] Initializing new project...
[2024-12-21 11:56:25] Existing project detected, skipping initialization
[2024-12-21 11:56:25] Progress: [28%] Stage 2/7: fixes
[2024-12-21 11:56:25] Running auto_fix_code.sh...
[2024-12-21 11:56:25] Processing Python file: ./tests/test_components.py...
[2024-12-21 11:56:25] Processing Python file: ./tests/test_app_config.py...
[2024-12-21 11:56:25] Processing Python file: ./tests/test_core_editor_extended.py...
[2024-12-21 11:56:25] Processing Python file: ./tests/test_editor.py...
[2024-12-21 11:56:25] Processing Python file: ./tests/test_app_core.py...
[2024-12-21 11:56:25] Processing Python file: ./tests/test_text_editor_extended.py...
[2024-12-21 11:56:25] Processing Python file: ./tests/__init__.py...
[2024-12-21 11:56:26] Processing Python file: ./tests/test_book.py...
[2024-12-21 11:56:26] Processing Python file: ./tests/test_storage.py...
[2024-12-21 11:56:26] Processing Python file: ./tests/test_app_core_editor.py...
[2024-12-21 11:56:26] Processing Python file: ./tests/test_main.py...
[2024-12-21 11:56:26] Processing Python file: ./tests/test_core_editor.py...
[2024-12-21 11:56:26] Processing Python file: ./tests/test_template.py...
[2024-12-21 11:56:26] Processing Python file: ./tests/test_settings.py...
[2024-12-21 11:56:26] Processing Python file: ./streamlit_app.py...
[2024-12-21 11:56:26] Processing Python file: ./setup.py...
[2024-12-21 11:56:26] Processing Python file: ./src/__init__.py...
[2024-12-21 11:56:26] Processing Python file: ./src/utils/__init__.py...
[2024-12-21 11:56:26] Processing Python file: ./src/models/__init__.py...
[2024-12-21 11:56:26] Processing Python file: ./src/models/book.py...
[2024-12-21 11:56:26] Processing Python file: ./src/components/__init__.py...
[2024-12-21 11:56:26] Processing Python file: ./src/components/text_editor.py...
[2024-12-21 11:56:26] Processing Python file: ./src/components/editor.py...
[2024-12-21 11:56:26] Processing Python file: ./src/book_editor/core/__init__.py...
[2024-12-21 11:56:26] Processing Python file: ./src/book_editor/core/template.py...
[2024-12-21 11:56:26] Processing Python file: ./src/book_editor/core/editor.py...
[2024-12-21 11:56:26] Processing Python file: ./src/book_editor/app/core/__init__.py...
[2024-12-21 11:56:26] Processing Python file: ./src/book_editor/app/core/editor.py...
[2024-12-21 11:56:26] Processing Python file: ./src/book_editor/app/config/__init__.py...
[2024-12-21 11:56:26] Processing Python file: ./src/book_editor/app/config/settings.py...
[2024-12-21 11:56:26] Processing Python file: ./src/book_editor/app/__init__.py...
[2024-12-21 11:56:26] Processing Python file: ./src/book_editor/config/__init__.py...
[2024-12-21 11:56:26] Processing Python file: ./src/book_editor/config/settings.py...
[2024-12-21 11:56:26] Processing Python file: ./src/book_editor/__init__.py...
[2024-12-21 11:56:26] Processing Python file: ./src/book_editor/types.py...
[2024-12-21 11:56:26] Processing Python file: ./src/book_editor/main.py...
[2024-12-21 11:56:26] Processing Python file: ./src/data/__init__.py...
[2024-12-21 11:56:26] Processing Python file: ./src/data/storage.py...
[2024-12-21 11:56:26] Processing markdown file: ./agent_directives.md...
[2024-12-21 11:56:27] Successfully fixed all Markdown issues in ./agent_directives.md
[2024-12-21 11:56:27] Processing markdown file: ./.pytest_cache/README.md...
[2024-12-21 11:56:27] Successfully fixed all Markdown issues in ./.pytest_cache/README.md
[2024-12-21 11:56:27] Processing markdown file: ./docs/proj_status.md...
[2024-12-21 11:56:27] Successfully fixed all Markdown issues in ./docs/proj_status.md
[2024-12-21 11:56:27] Processing markdown file: ./docs/implementation_plan.md...
[2024-12-21 11:56:27] Successfully fixed all Markdown issues in ./docs/implementation_plan.md
[2024-12-21 11:56:27] Processing markdown file: ./README.md...
[2024-12-21 11:56:28] Successfully fixed all Markdown issues in ./README.md
[2024-12-21 11:56:28] Processing markdown file: ./logs/auto_fix.log.md...
[2024-12-21 11:56:28] Successfully fixed all Markdown issues in ./logs/auto_fix.log.md
[2024-12-21 11:56:28] Processing markdown file: ./venv/lib/python3.13/site-packages/idna-3.10.dist-info/LICENSE.md...
[2024-12-21 11:56:28] Skipping markdown file in excluded directory: ./venv/lib/python3.13/site-packages/idna-3.10.dist-info/LICENSE.md
[2024-12-21 11:56:28] Processing markdown file: ./venv/lib/python3.13/site-packages/Markdown-3.7.dist-info/LICENSE.md...
[2024-12-21 11:56:28] Skipping markdown file in excluded directory: ./venv/lib/python3.13/site-packages/Markdown-3.7.dist-info/LICENSE.md
[2024-12-21 11:56:28] Processing markdown file: ./venv/lib/python3.13/site-packages/narwhals-1.19.0.dist-info/licenses/LICENSE.md...
[2024-12-21 11:56:28] Skipping markdown file in excluded directory: ./venv/lib/python3.13/site-packages/narwhals-1.19.0.dist-info/licenses/LICENSE.md
[2024-12-21 11:56:28] Processing markdown file: ./venv/lib/python3.13/site-packages/altair/jupyter/js/README.md...
[2024-12-21 11:56:28] Skipping markdown file in excluded directory: ./venv/lib/python3.13/site-packages/altair/jupyter/js/README.md
[2024-12-21 11:56:28] Processing markdown file: ./venv/lib/python3.13/site-packages/numpy/random/LICENSE.md...
[2024-12-21 11:56:28] Skipping markdown file in excluded directory: ./venv/lib/python3.13/site-packages/numpy/random/LICENSE.md
[2024-12-21 11:56:28] Processing markdown file: ./venv/lib/python3.13/site-packages/README.md...
[2024-12-21 11:56:28] Skipping markdown file in excluded directory: ./venv/lib/python3.13/site-packages/README.md
[2024-12-21 11:56:28] Processing markdown file: ./venv/lib/python3.13/site-packages/black-24.10.0.dist-info/licenses/AUTHORS.md...
[2024-12-21 11:56:28] Skipping markdown file in excluded directory: ./venv/lib/python3.13/site-packages/black-24.10.0.dist-info/licenses/AUTHORS.md
[2024-12-21 11:56:28] Processing markdown file: ./venv/lib/python3.13/site-packages/pyarrow/tests/data/orc/README.md...
[2024-12-21 11:56:28] Skipping markdown file in excluded directory: ./venv/lib/python3.13/site-packages/pyarrow/tests/data/orc/README.md
[2024-12-21 11:56:28] Processing markdown file: ./src/book_editor/docs/changelog.md...
[2024-12-21 11:56:28] Successfully fixed all Markdown issues in ./src/book_editor/docs/changelog.md
[2024-12-21 11:56:28] Processing markdown file: ./src/book_editor/docs/proj_status.md...
[2024-12-21 11:56:28] Some Markdown issues remain in ./src/book_editor/docs/proj_status.md:
[2024-12-21 11:56:28] Processing markdown file: ./src/book_editor/README.md...
[2024-12-21 11:56:29] Some Markdown issues remain in ./src/book_editor/README.md:
reformatted /Users/admin/cursor/write-a-book/src/book_editor/types.py
reformatted /Users/admin/cursor/write-a-book/src/components/text_editor.py
reformatted /Users/admin/cursor/write-a-book/src/data/storage.py
reformatted /Users/admin/cursor/write-a-book/streamlit_app.py
reformatted /Users/admin/cursor/write-a-book/src/models/book.py
reformatted /Users/admin/cursor/write-a-book/tests/test_app_config.py
reformatted /Users/admin/cursor/write-a-book/src/components/editor.py
reformatted /Users/admin/cursor/write-a-book/src/book_editor/core/template.py
reformatted /Users/admin/cursor/write-a-book/tests/test_components.py
reformatted /Users/admin/cursor/write-a-book/tests/test_app_core_editor.py
reformatted /Users/admin/cursor/write-a-book/src/book_editor/main.py
reformatted /Users/admin/cursor/write-a-book/tests/test_book.py
reformatted /Users/admin/cursor/write-a-book/tests/test_app_core.py
reformatted /Users/admin/cursor/write-a-book/src/book_editor/core/editor.py
reformatted /Users/admin/cursor/write-a-book/tests/test_core_editor_extended.py
reformatted /Users/admin/cursor/write-a-book/src/book_editor/app/core/editor.py
reformatted /Users/admin/cursor/write-a-book/tests/test_settings.py
reformatted /Users/admin/cursor/write-a-book/tests/test_storage.py
reformatted /Users/admin/cursor/write-a-book/tests/test_main.py
reformatted /Users/admin/cursor/write-a-book/tests/test_text_editor_extended.py
reformatted /Users/admin/cursor/write-a-book/tests/test_template.py
reformatted /Users/admin/cursor/write-a-book/tests/test_editor.py
reformatted /Users/admin/cursor/write-a-book/tests/test_core_editor.py

All done! ‚ú® üç∞ ‚ú®
23 files reformatted, 15 files left unchanged.
Skipped 2 files
Verifying fixes...
[2024-12-21 11:56:35] WARNING: Some Markdown errors remain
[2024-12-21 11:56:35] Some errors remain - check logs for details
Auto-fix complete!
[2024-12-21 11:56:35] Progress: [42%] Stage 3/7: structure
[2024-12-21 11:56:35] Setting up git configuration...
[2024-12-21 11:56:35] Setting up markdown linting tools...
[2024-12-21 11:56:35] Setting up advanced Streamlit directory structure...
[2024-12-21 11:56:35] Verifying Streamlit dependencies...
[2024-12-21 11:56:35] Progress: [57%] Stage 4/7: verification
[2024-12-21 11:56:35] Fixing markdown files...
[2024-12-21 11:56:35] Processing ./agent_directives.md...
[2024-12-21 11:56:35] Successfully fixed all Markdown issues in ./agent_directives.md
[2024-12-21 11:56:35] Successfully fixed all Markdown issues in ./agent_directives.md
[2024-12-21 11:56:36] Processing ./.pytest_cache/README.md...
[2024-12-21 11:56:36] Successfully fixed all Markdown issues in ./.pytest_cache/README.md
[2024-12-21 11:56:36] Successfully fixed all Markdown issues in ./.pytest_cache/README.md
[2024-12-21 11:56:36] Processing ./docs/proj_status.md...
[2024-12-21 11:56:36] Successfully fixed all Markdown issues in ./docs/proj_status.md
[2024-12-21 11:56:37] Successfully fixed all Markdown issues in ./docs/proj_status.md
[2024-12-21 11:56:37] Processing ./docs/implementation_plan.md...
[2024-12-21 11:56:37] Successfully fixed all Markdown issues in ./docs/implementation_plan.md
[2024-12-21 11:56:37] Successfully fixed all Markdown issues in ./docs/implementation_plan.md
[2024-12-21 11:56:37] Processing ./README.md...
[2024-12-21 11:56:37] Successfully fixed all Markdown issues in ./README.md
[2024-12-21 11:56:37] Successfully fixed all Markdown issues in ./README.md
[2024-12-21 11:56:37] Processing ./logs/auto_fix.log.md...
[2024-12-21 11:56:38] Successfully fixed all Markdown issues in ./logs/auto_fix.log.md
[2024-12-21 11:56:38] Successfully fixed all Markdown issues in ./logs/auto_fix.log.md
[2024-12-21 11:56:38] Processing ./src/book_editor/docs/changelog.md...
[2024-12-21 11:56:38] Successfully fixed all Markdown issues in ./src/book_editor/docs/changelog.md
[2024-12-21 11:56:38] Successfully fixed all Markdown issues in ./src/book_editor/docs/changelog.md
[2024-12-21 11:56:38] Processing ./src/book_editor/docs/proj_status.md...
[2024-12-21 11:56:39] Some Markdown issues remain in ./src/book_editor/docs/proj_status.md:
./src/book_editor/docs/proj_status.md:24:1 MD007/ul-indent Unordered list indentation [Expected: 0; Actual: 2]
./src/book_editor/docs/proj_status.md:26:1 MD007/ul-indent Unordered list indentation [Expected: 0; Actual: 2]
./src/book_editor/docs/proj_status.md:28:1 MD007/ul-indent Unordered list indentation [Expected: 0; Actual: 2]
./src/book_editor/docs/proj_status.md:30:1 MD029/ol-prefix Ordered list item prefix [Expected: 1; Actual: 2; Style: 1/1/1]
./src/book_editor/docs/proj_status.md:32:1 MD007/ul-indent Unordered list indentation [Expected: 0; Actual: 2]
./src/book_editor/docs/proj_status.md:34:1 MD007/ul-indent Unordered list indentation [Expected: 0; Actual: 2]
./src/book_editor/docs/proj_status.md:36:1 MD007/ul-indent Unordered list indentation [Expected: 0; Actual: 2]
./src/book_editor/docs/proj_status.md:38:1 MD029/ol-prefix Ordered list item prefix [Expected: 1; Actual: 3; Style: 1/1/1]
./src/book_editor/docs/proj_status.md:40:1 MD007/ul-indent Unordered list indentation [Expected: 0; Actual: 2]
./src/book_editor/docs/proj_status.md:42:1 MD007/ul-indent Unordered list indentation [Expected: 0; Actual: 2]
./src/book_editor/docs/proj_status.md:44:1 MD007/ul-indent Unordered list indentation [Expected: 0; Actual: 2]
./src/book_editor/docs/proj_status.md:46:1 MD029/ol-prefix Ordered list item prefix [Expected: 1; Actual: 4; Style: 1/1/1]
./src/book_editor/docs/proj_status.md:48:1 MD007/ul-indent Unordered list indentation [Expected: 0; Actual: 2]
./src/book_editor/docs/proj_status.md:50:1 MD007/ul-indent Unordered list indentation [Expected: 0; Actual: 2]
./src/book_editor/docs/proj_status.md:52:1 MD007/ul-indent Unordered list indentation [Expected: 0; Actual: 2]
./src/book_editor/docs/proj_status.md:54:1 MD029/ol-prefix Ordered list item prefix [Expected: 1; Actual: 5; Style: 1/1/1]
./src/book_editor/docs/proj_status.md:56:1 MD007/ul-indent Unordered list indentation [Expected: 0; Actual: 2]
./src/book_editor/docs/proj_status.md:58:1 MD007/ul-indent Unordered list indentation [Expected: 0; Actual: 2]
./src/book_editor/docs/proj_status.md:60:1 MD007/ul-indent Unordered list indentation [Expected: 0; Actual: 2]
[2024-12-21 11:56:39] WARNING: Could not fix all Markdown issues in ./src/book_editor/docs/proj_status.md
[2024-12-21 11:56:39] Processing ./src/book_editor/README.md...
[2024-12-21 11:56:39] Some Markdown issues remain in ./src/book_editor/README.md:
./src/book_editor/README.md:55 MD032/blanks-around-lists Lists should be surrounded by blank lines [Context: "3. Use the sidebar to:"]
./src/book_editor/README.md:56:1 MD007/ul-indent Unordered list indentation [Expected: 0; Actual: 2]
./src/book_editor/README.md:56 MD032/blanks-around-lists Lists should be surrounded by blank lines [Context: "- Upload templates"]
./src/book_editor/README.md:57:1 MD007/ul-indent Unordered list indentation [Expected: 0; Actual: 2]
./src/book_editor/README.md:58:1 MD007/ul-indent Unordered list indentation [Expected: 0; Actual: 2]
./src/book_editor/README.md:60:1 MD029/ol-prefix Ordered list item prefix [Expected: 1; Actual: 4; Style: 1/1/1]
./src/book_editor/README.md:60 MD032/blanks-around-lists Lists should be surrounded by blank lines [Context: "4. Use the main editor to:"]
./src/book_editor/README.md:61:1 MD007/ul-indent Unordered list indentation [Expected: 0; Actual: 2]
./src/book_editor/README.md:61 MD032/blanks-around-lists Lists should be surrounded by blank lines [Context: "- Write and edit text"]
./src/book_editor/README.md:62:1 MD007/ul-indent Unordered list indentation [Expected: 0; Actual: 2]
./src/book_editor/README.md:63:1 MD007/ul-indent Unordered list indentation [Expected: 0; Actual: 2]
[2024-12-21 11:56:39] WARNING: Could not fix all Markdown issues in ./src/book_editor/README.md
[2024-12-21 11:56:39] Fixing Python files...
[2024-12-21 11:56:39] Batch processing imports...
[2024-12-21 11:56:41] Batch processing code style...
[2024-12-21 11:56:50] Running linting checks...
[2024-12-21 11:56:50] Running pytest...
/Users/admin/cursor/write-a-book/venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py:207: PytestDeprecationWarning: The configuration option "asyncio_default_fixture_loop_scope" is unset.
The event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: "function", "class", "module", "package", "session"

  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))
============================= test session starts ==============================
platform darwin -- Python 3.13.1, pytest-8.3.4, pluggy-1.5.0 -- /Users/admin/cursor/write-a-book/venv/bin/python3.13
cachedir: .pytest_cache
rootdir: /Users/admin/cursor/write-a-book
configfile: pyproject.toml
plugins: cov-6.0.0, asyncio-0.25.0, mock-3.14.0
asyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None
collecting ... collected 103 items

tests/test_app_config.py::test_app_settings PASSED                       [  0%]
tests/test_app_config.py::test_supported_formats PASSED                  [  1%]
tests/test_app_config.py::test_theme_config PASSED                       [  2%]
tests/test_app_config.py::test_editor_config PASSED                      [  3%]
tests/test_app_config.py::test_preview_config PASSED                     [  4%]
tests/test_app_config.py::test_logging_config PASSED                     [  5%]
tests/test_app_core.py::test_app_editor_initialization PASSED            [  6%]
tests/test_app_core.py::test_document_manager_operations PASSED          [  7%]
tests/test_app_core.py::test_template_renderer_operations PASSED         [  8%]
tests/test_app_core.py::test_preview_manager_operations PASSED           [  9%]
tests/test_app_core.py::test_app_editor_document_handling PASSED         [ 10%]
tests/test_app_core.py::test_app_editor_template_handling PASSED         [ 11%]
tests/test_app_core.py::test_app_editor_error_handling PASSED            [ 12%]
tests/test_app_core.py::test_document_manager_validation PASSED          [ 13%]
tests/test_app_core.py::test_template_renderer_validation PASSED         [ 14%]
tests/test_app_core.py::test_preview_manager_validation PASSED           [ 15%]
tests/test_app_core_editor.py::test_template_renderer_operations PASSED  [ 16%]
tests/test_app_core_editor.py::test_preview_manager_operations PASSED    [ 17%]
tests/test_app_core_editor.py::test_app_editor_initialization PASSED     [ 18%]
tests/test_app_core_editor.py::test_app_editor_document_operations PASSED [ 19%]
tests/test_app_core_editor.py::test_app_editor_template_operations PASSED [ 20%]
tests/test_app_core_editor.py::test_app_editor_validation PASSED         [ 21%]
tests/test_book.py::test_book_creation PASSED                            [ 22%]
tests/test_book.py::test_chapter_management PASSED                       [ 23%]
tests/test_book.py::test_section_management PASSED                       [ 24%]
tests/test_book.py::test_metadata_management PASSED                      [ 25%]
tests/test_book.py::test_content_operations PASSED                       [ 26%]
tests/test_book.py::test_chapter_operations PASSED                       [ 27%]
tests/test_components.py::test_editor_component_initialization PASSED    [ 28%]
tests/test_components.py::test_editor_content_update PASSED              [ 29%]
tests/test_components.py::test_cursor_movement PASSED                    [ 30%]
tests/test_components.py::test_text_selection PASSED                     [ 31%]
tests/test_components.py::test_undo_redo PASSED                          [ 32%]
tests/test_core_editor.py::test_document_creation PASSED                 [ 33%]
tests/test_core_editor.py::test_document_update PASSED                   [ 33%]
tests/test_core_editor.py::test_document_html_rendering PASSED           [ 34%]
tests/test_core_editor.py::test_document_serialization PASSED            [ 35%]
tests/test_core_editor.py::test_editor_initialization PASSED             [ 36%]
tests/test_core_editor.py::test_document_management PASSED               [ 37%]
tests/test_core_editor.py::test_text_analysis PASSED                     [ 38%]
tests/test_core_editor.py::test_datetime_encoder PASSED                  [ 39%]
tests/test_core_editor.py::test_error_handling PASSED                    [ 40%]
tests/test_core_editor.py::test_document_format_handling PASSED          [ 41%]
tests/test_core_editor.py::test_empty_document_handling PASSED           [ 42%]
tests/test_core_editor.py::test_css_generation PASSED                    [ 43%]
tests/test_core_editor.py::test_datetime_handling PASSED                 [ 44%]
tests/test_core_editor.py::test_text_analysis_edge_cases PASSED          [ 45%]
tests/test_core_editor.py::test_document_to_dict_error_handling PASSED   [ 46%]
tests/test_core_editor_extended.py::test_editor_initialization PASSED    [ 47%]
tests/test_core_editor_extended.py::test_editor_document_creation PASSED [ 48%]
tests/test_core_editor_extended.py::test_editor_document_saving PASSED   [ 49%]
tests/test_core_editor_extended.py::test_editor_document_loading PASSED  [ 50%]
tests/test_core_editor_extended.py::test_editor_document_listing PASSED  [ 51%]
tests/test_core_editor_extended.py::test_editor_text_analysis PASSED     [ 52%]
tests/test_core_editor_extended.py::test_editor_html_rendering PASSED    [ 53%]
tests/test_core_editor_extended.py::test_text_analysis_edge_cases PASSED [ 54%]
tests/test_editor.py::test_editor_initialization PASSED                  [ 55%]
tests/test_editor.py::test_book_loading PASSED                           [ 56%]
tests/test_editor.py::test_chapter_navigation PASSED                     [ 57%]
tests/test_editor.py::test_content_editing PASSED                        [ 58%]
tests/test_editor.py::test_chapter_management PASSED                     [ 59%]
tests/test_editor.py::test_error_handling PASSED                         [ 60%]
tests/test_editor.py::test_undo_redo_stack PASSED                        [ 61%]
tests/test_editor.py::test_empty_undo_redo PASSED                        [ 62%]
tests/test_editor.py::test_chapter_validation PASSED                     [ 63%]
tests/test_editor.py::test_chapter_index_adjustment PASSED               [ 64%]
tests/test_editor.py::test_multiple_chapter_operations PASSED            [ 65%]
tests/test_main.py::test_book_editor_initialization PASSED               [ 66%]
tests/test_main.py::test_render_template_manager PASSED                  [ 66%]
tests/test_main.py::test_main PASSED                                     [ 67%]
tests/test_main.py::test_auto_save PASSED                                [ 68%]
tests/test_main.py::test_template_management PASSED                      [ 69%]
tests/test_main.py::test_template_search PASSED                          [ 70%]
tests/test_main.py::test_template_preview PASSED                         [ 71%]
tests/test_main.py::test_editor_content_handling PASSED                  [ 72%]
tests/test_main.py::test_editor_statistics PASSED                        [ 73%]
tests/test_main.py::test_document_history PASSED                         [ 74%]
tests/test_settings.py::test_app_settings PASSED                         [ 75%]
tests/test_settings.py::test_supported_formats PASSED                    [ 76%]
tests/test_settings.py::test_theme_config PASSED                         [ 77%]
tests/test_settings.py::test_editor_config PASSED                        [ 78%]
tests/test_settings.py::test_preview_config PASSED                       [ 79%]
tests/test_settings.py::test_logging_config PASSED                       [ 80%]
tests/test_storage.py::test_storage_initialization PASSED                [ 81%]
tests/test_storage.py::test_file_operations PASSED                       [ 82%]
tests/test_storage.py::test_directory_operations PASSED                  [ 83%]
tests/test_storage.py::test_backup_operations PASSED                     [ 84%]
tests/test_storage.py::test_error_handling PASSED                        [ 85%]
tests/test_template.py::test_template_creation PASSED                    [ 86%]
tests/test_template.py::test_template_serialization PASSED               [ 87%]
tests/test_template.py::test_template_manager_categories PASSED          [ 88%]
tests/test_template.py::test_template_manager_save_load PASSED           [ 89%]
tests/test_template.py::test_template_manager_listing PASSED             [ 90%]
tests/test_template.py::test_template_search PASSED                      [ 91%]
tests/test_text_editor_extended.py::test_editor_initialization PASSED    [ 92%]
tests/test_text_editor_extended.py::test_content_management PASSED       [ 93%]
tests/test_text_editor_extended.py::test_cursor_movement_bounds PASSED   [ 94%]
tests/test_text_editor_extended.py::test_text_selection_operations PASSED [ 95%]
tests/test_text_editor_extended.py::test_undo_redo_operations PASSED     [ 96%]
tests/test_text_editor_extended.py::test_empty_operations PASSED         [ 97%]
tests/test_text_editor_extended.py::test_cursor_selection_interaction PASSED [ 98%]
tests/test_text_editor_extended.py::test_content_state_management PASSED [ 99%]
tests/test_text_editor_extended.py::test_selection_edge_cases PASSED     [100%]

============================= 103 passed in 1.99s ==============================
************* Module tests.test_app_core
tests/test_app_core.py:3:0: W0105: String statement has no effect (pointless-string-statement)
tests/test_app_core.py:5:0: C0413: Import "import tempfile" should be placed at the top of the module (wrong-import-position)
tests/test_app_core.py:6:0: C0413: Import "from unittest.mock import patch" should be placed at the top of the module (wrong-import-position)
tests/test_app_core.py:8:0: C0413: Import "import pytest" should be placed at the top of the module (wrong-import-position)
tests/test_app_core.py:10:0: C0413: Import "from book_editor.core.template import Template" should be placed at the top of the module (wrong-import-position)
tests/test_app_core.py:11:0: C0413: Import "from src.book_editor.app.core.editor import AppEditor, DocumentManager, PreviewManager, TemplateRenderer" should be placed at the top of the module (wrong-import-position)
tests/test_app_core.py:27:15: W0621: Redefining name 'temp_dir' from outer scope (line 20) (redefined-outer-name)
tests/test_app_core.py:37:21: W0621: Redefining name 'temp_dir' from outer scope (line 20) (redefined-outer-name)
tests/test_app_core.py:44:22: W0621: Redefining name 'temp_dir' from outer scope (line 20) (redefined-outer-name)
tests/test_app_core.py:55:35: W0621: Redefining name 'app_editor' from outer scope (line 27) (redefined-outer-name)
tests/test_app_core.py:63:37: W0621: Redefining name 'document_manager' from outer scope (line 37) (redefined-outer-name)
tests/test_app_core.py:84:38: W0621: Redefining name 'template_renderer' from outer scope (line 44) (redefined-outer-name)
tests/test_app_core.py:98:36: W0621: Redefining name 'preview_manager' from outer scope (line 50) (redefined-outer-name)
tests/test_app_core.py:98:53: W0621: Redefining name 'temp_dir' from outer scope (line 20) (redefined-outer-name)
tests/test_app_core.py:117:53: W0621: Redefining name 'app_editor' from outer scope (line 27) (redefined-outer-name)
tests/test_app_core.py:137:38: W0621: Redefining name 'app_editor' from outer scope (line 27) (redefined-outer-name)
tests/test_app_core.py:154:35: W0621: Redefining name 'app_editor' from outer scope (line 27) (redefined-outer-name)
tests/test_app_core.py:171:37: W0621: Redefining name 'document_manager' from outer scope (line 37) (redefined-outer-name)
tests/test_app_core.py:187:38: W0621: Redefining name 'template_renderer' from outer scope (line 44) (redefined-outer-name)
tests/test_app_core.py:197:36: W0621: Redefining name 'preview_manager' from outer scope (line 50) (redefined-outer-name)
tests/test_app_core.py:5:0: C0411: standard import "tempfile" should be placed before third party import "streamlit" (wrong-import-order)
tests/test_app_core.py:6:0: C0411: standard import "unittest.mock.patch" should be placed before third party import "streamlit" (wrong-import-order)
tests/test_app_core.py:1:0: W0611: Unused streamlit imported as st (unused-import)
************* Module tests.test_main
tests/test_main.py:3:0: W0105: String statement has no effect (pointless-string-statement)
tests/test_main.py:5:0: C0413: Import "import tempfile" should be placed at the top of the module (wrong-import-position)
tests/test_main.py:6:0: C0413: Import "from pathlib import Path" should be placed at the top of the module (wrong-import-position)
tests/test_main.py:7:0: C0413: Import "from unittest.mock import MagicMock, patch" should be placed at the top of the module (wrong-import-position)
tests/test_main.py:9:0: C0413: Import "import pytest" should be placed at the top of the module (wrong-import-position)
tests/test_main.py:11:0: C0413: Import "from src.book_editor.main import BookEditor, main, render_template_manager" should be placed at the top of the module (wrong-import-position)
tests/test_main.py:24:20: W0621: Redefining name 'temp_dir' from outer scope (line 15) (redefined-outer-name)
tests/test_main.py:43:36: W0621: Redefining name 'editor_instance' from outer scope (line 24) (redefined-outer-name)
tests/test_main.py:89:19: W0621: Redefining name 'editor_instance' from outer scope (line 24) (redefined-outer-name)
tests/test_main.py:101:29: W0621: Redefining name 'editor_instance' from outer scope (line 24) (redefined-outer-name)
tests/test_main.py:122:25: W0621: Redefining name 'editor_instance' from outer scope (line 24) (redefined-outer-name)
tests/test_main.py:137:26: W0621: Redefining name 'editor_instance' from outer scope (line 24) (redefined-outer-name)
tests/test_main.py:153:33: W0621: Redefining name 'editor_instance' from outer scope (line 24) (redefined-outer-name)
tests/test_main.py:165:27: W0621: Redefining name 'editor_instance' from outer scope (line 24) (redefined-outer-name)
tests/test_main.py:180:26: W0621: Redefining name 'editor_instance' from outer scope (line 24) (redefined-outer-name)
tests/test_main.py:5:0: C0411: standard import "tempfile" should be placed before third party import "streamlit" (wrong-import-order)
tests/test_main.py:6:0: C0411: standard import "pathlib.Path" should be placed before third party import "streamlit" (wrong-import-order)
tests/test_main.py:7:0: C0411: standard import "unittest.mock.MagicMock" should be placed before third party import "streamlit" (wrong-import-order)
tests/test_main.py:1:0: W0611: Unused streamlit imported as st (unused-import)

------------------------------------------------------------------
Your code has been rated at 9.78/10 (previous run: 9.78/10, +0.00)

[2024-12-21 11:56:56] Running additional checks...
[2024-12-21 11:56:56] Checking markdown file: ./agent_directives.md
[2024-12-21 11:56:56] Checking markdown file: ./.pytest_cache/README.md
[2024-12-21 11:56:56] Checking markdown file: ./docs/proj_status.md
[2024-12-21 11:56:56] Checking markdown file: ./docs/implementation_plan.md
[2024-12-21 11:56:56] Checking markdown file: ./README.md
[2024-12-21 11:56:56] Checking markdown file: ./logs/auto_fix.log.md
[2024-12-21 11:56:56] Checking markdown file: ./src/book_editor/docs/changelog.md
[2024-12-21 11:56:56] Checking markdown file: ./src/book_editor/docs/proj_status.md
[2024-12-21 11:56:56] Checking markdown file: ./src/book_editor/README.md
[2024-12-21 11:56:56] Pylint score: 9.78
9.78
0.00/10.00
[2024-12-21 11:56:56] Progress: [71%] Stage 5/7: imports
[2024-12-21 11:56:56] Fixing imports...
[2024-12-21 11:56:56] Processing imports in ./tests/test_components.py...
[2024-12-21 11:56:56] Processing imports in ./tests/test_app_config.py...
[2024-12-21 11:56:56] Processing imports in ./tests/test_core_editor_extended.py...
[2024-12-21 11:56:57] Processing imports in ./tests/test_editor.py...
[2024-12-21 11:56:57] Processing imports in ./tests/test_app_core.py...
[2024-12-21 11:56:57] Processing imports in ./tests/test_text_editor_extended.py...
[2024-12-21 11:56:57] Processing imports in ./tests/__init__.py...
[2024-12-21 11:56:57] Processing imports in ./tests/test_book.py...
[2024-12-21 11:56:57] Processing imports in ./tests/test_storage.py...
[2024-12-21 11:56:57] Processing imports in ./tests/test_app_core_editor.py...
[2024-12-21 11:56:57] Processing imports in ./tests/test_main.py...
[2024-12-21 11:56:57] Processing imports in ./tests/test_core_editor.py...
[2024-12-21 11:56:57] Processing imports in ./tests/test_template.py...
[2024-12-21 11:56:57] Processing imports in ./tests/test_settings.py...
[2024-12-21 11:56:57] Processing imports in ./streamlit_app.py...
[2024-12-21 11:56:57] Processing imports in ./setup.py...
[2024-12-21 11:56:57] Processing imports in ./src/__init__.py...
[2024-12-21 11:56:57] Processing imports in ./src/utils/__init__.py...
[2024-12-21 11:56:57] Processing imports in ./src/models/__init__.py...
[2024-12-21 11:56:57] Processing imports in ./src/models/book.py...
[2024-12-21 11:56:57] Processing imports in ./src/components/__init__.py...
[2024-12-21 11:56:57] Processing imports in ./src/components/text_editor.py...
[2024-12-21 11:56:57] Processing imports in ./src/components/editor.py...
[2024-12-21 11:56:57] Processing imports in ./src/book_editor/core/__init__.py...
[2024-12-21 11:56:57] Processing imports in ./src/book_editor/core/template.py...
[2024-12-21 11:56:57] Processing imports in ./src/book_editor/core/editor.py...
[2024-12-21 11:56:57] Processing imports in ./src/book_editor/app/core/__init__.py...
[2024-12-21 11:56:57] Processing imports in ./src/book_editor/app/core/editor.py...
[2024-12-21 11:56:57] Processing imports in ./src/book_editor/app/config/__init__.py...
[2024-12-21 11:56:57] Processing imports in ./src/book_editor/app/config/settings.py...
[2024-12-21 11:56:57] Processing imports in ./src/book_editor/app/__init__.py...
[2024-12-21 11:56:57] Processing imports in ./src/book_editor/config/__init__.py...
[2024-12-21 11:56:57] Processing imports in ./src/book_editor/config/settings.py...
[2024-12-21 11:56:57] Processing imports in ./src/book_editor/__init__.py...
[2024-12-21 11:56:57] Processing imports in ./src/book_editor/types.py...
[2024-12-21 11:56:57] Processing imports in ./src/book_editor/main.py...
[2024-12-21 11:56:57] Processing imports in ./src/data/__init__.py...
[2024-12-21 11:56:57] Processing imports in ./src/data/storage.py...
[2024-12-21 11:56:57] Optimizing imports with isort...
Fixing /Users/admin/cursor/write-a-book/setup.py
[2024-12-21 11:56:59] Formatting code with black...
[2024-12-21 11:57:00] Attempt 1 failed, retrying in 2s...
[2024-12-21 11:57:03] Attempt 2 failed, retrying in 2s...
[2024-12-21 11:57:07] Attempt 3 failed, retrying in 2s...
[2024-12-21 11:57:09] Progress: [85%] Stage 6/7: docs
[2024-12-21 11:57:09] Updating project documentation...
[2024-12-21 11:57:09] Progress: [100%] Stage 7/7: commit
[2024-12-21 11:57:09] Auto-committing changes to GitHub...
